sudo: required

language: generic

git:
  depth: false

dist:
  xenial

cache:
  directories:
    - $HOME/.m2

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
  - secure: q5wEjeQpoCw7280J5zanPlQmExiIvUuB0H2o8VHTVezFT5poTNP+HXkVJBT1JhjxEtzWfcgEoaa3uuvEFcnR696YeHie5fLkqS/TeM6uWpmQorC/TG3lnxp+NltWezCjNsTQ9pZaFQpW+LQkuvPnE7zMn7IWUPxKHSsz+bvG1kpSgBD50RjU+TyBWD/9lZerpfcF77asuA2awyCFjwIgl3XXqGXvjhKKE9bfeVoonLWHAtFohCw/qodRs3PtP0BMI1RvFrwOzjzK69SYRZAsBQ4e3Sj26nMr7EzxOzOEYJCmnY+l3iWqXmAM6b2W6FQK6MhcfdKBIHM8t8HHvkjqJVYUYrCFhPuG6ELq1ekTZsGolnlOvdwdyLuzQiEdvKfwmrpm6qn5lxO0hyc4SXVfLGZZLdSppXLEupkf+LFHhU76b3/p2o9XCuA5jPgeKWyjHQWQcIOIcZ9OCoKw6F6ypZu7mjsBX73/A0uNuS75L7yVAFr2wxvbuN2Ylo0rJ0LeLnC3nu/E9qAd3USfyZsuniDRa+yaJSTdqxrZwQM9pi42hMRRSWsB+35Bo2uOKKbF+v9A06fQWeO3kjQwg4pA8CThOoOzhImP3TgsRY73gomAq4/zk/zuuc475mkb2/g+bSuElBKsyUxtJh9//ydMnlYe608+PtKKMce20E+jVB4=
  - secure: LBQ45itjeZYHeSR2/n88On5PINakZStZn7G8pTrfY/sLHZW38EWYRRmuXdjcFwTSG4CvxnR9vNggSCrtLQ+NXQwvS9rS5fLwYDOD6OB+hQeV+OgtlrhEjGsswV5HaTa4jESeUWMIbSwl4SoE9os7p/8JkzzcDzgKQDzNPfD73SSJdOWdOJPpBnYiSly5uKg0U/244NlSCfnmbR43AGfX9Da0srIDwYjmvBDNAVmY4oPZpfhIyJlitsVREFjKjXOvciRHDinsWTbQQ0ebTRP/wZqBOWQttuhxwUGbP84kc0QVRx06oHu7x6tSPLKeVIdy5CtYi46LUROzThajmRxm6R5RH8qaoTk8zf9sAp1UgPjGG7lw7idTDj478hwJKgdfVG2/Qj0kbpYntvfCKdmH8ydRSriDEXATZUkH+oegQdIGYMSg9Jk5utWdffVjmFUokfS50189Rgdvwbo3y8XniZqwTnj/kPyIcZbIzw0X88unRNoIPyyfeOfxgCWEFFR2eleHPB83nUDG6gSdIc/wQMkuiWJXL1Vi3J343+UnZbclrdqbkXXq8DWA9bQfDPDDNil4k493qu14CqzflONlmF8FEe+zPRoTgW3WcOqlxdaJqX0ml6XUxMK6115Wil+aJ6J0nwyx6BLUZAtCgnMcJvMRkxnQqxo9PS6ijlk3VUA=
  - secure: Hj+lWwn169+LJW6kHVcn1QB4d//x0wr1/9LSIBSJDH41QFExVfzB6pKUBucw88ZJRh7mViAOmMJou047VPWZDva95CRkDa3LPiiREomZSKDzPRSdnnCSUJTu/k5ReB3p5Anpsev+lRb0niLHN0r4yBsnoERYqz6J8O5jVXuGD34Pj/uIKyjE5VlmZY8qhu+ca5AXbOHrAQOaCONAnjPtXYucZWpzBAOI3I2n1JtbYA2nE62evBUuYzU3gUIYoozLpcyRDxXRM2u8uUikAMmiRJxp8P8lx/PsSK/w7d1clJXRFpfbx82KflpWrm3rUXT5MI3A0xDt6BF2gDUDJV5UERHbl+uh8/+lnYCncemXtH8N/gN4uy/zfdIoURtOIwwYLxyvbegnUgF+SNtZtrRIYj9EvKOssuIGuNdWiFEAwJsH8ms3+I+3EDbsPHyqrm626Ahe6Bs5tpZSLwFwynacaPEEsL76qF5/jRnj0/vfors5+U7T4mIIm20q3uinThpIVT5YlQ6BoUvA+0bUBW5xz4Qys8CoDS2xXq3gJqeFG6ji6y4nYop+FkPr39ZuWCsh9wpgIr9Ibq/YtphXFMPP78jhqwbvh97b1yD5pby6Y/N2krhe1V90l4WGakmrnQg3bO2JHKn3/OD0jqNLzct7V2ufQQAUDqLFbR1ZmzFe3yA=
  - secure: sM8VLYeevhNbYc/YZzyyFkQy0kwKZWaitlcs564Zh/Qkg/TqfHDJ+bsNXHncoTLZs+ySrVZF8k9ThnKcxh5KjZHHA+dlrehSQjPEsaLevPmwWBwNjh8mdyrPSX3LssO8DkxfG8OqXn9BGeEN3Tnq3Ei+wJFpvhZyK8VckgBbxvJB6F90zUv6nVw/rNkVFpTDR8Aae41C19Y3kWXg6uFTkx7wNZ0wuVo6xyHBn2u0xULl7/HfxnNmZs7titb+w623zivDzNRxLs0s1xtzO0Hr9dRLQYTjByZ3Tn7gN2RmvI4udp9S6NOo6azgkKZgvG+8EPN2zxCMgc7GVSVrHvBQ3rcw1+ahQs4tdzthrr0pG8cAg0DHOcfabYGCY0jI7XVPkFkfSnue3aQOID2R224JMfRSPuO7ao6GTvwu+LpZOI9l/OkbgyjPWtxceUbVzKoIP0SeOH4dKGLzjIOxBr9ENGh0UZJX3Z9jZke/Hg3fGi2r8mu0us08m/7MJkAmYUzoFYdipyOwlkIGppsmOZlt+lDghXeu7yICx/d7wi0C2Rh4hWMG9Lgw1uKm2hrerhF/aSdzIL4vnNgKSTZzRdl9411G+49EvyrkRiKPBm4ix07HM+AlqLnAG9ud1XjtsUKQwQgQ0fmduIwAR09gBkKe5SzPTsnGRP78hvkIgVmvJwo=
  - secure: i+LQxQP7mJ7EwhNk+SW/yqyFoiSnjPJZGZERtjqlrs1EwrY6cJ1Y2+wrHP9uGG2b+fz8NkdzmGsso5QaC/AfwOgMgC2RGgFyarQBumxlL2vIevlJGwvYlQh+QdEKrYSDRGxftWq1RzAOjdNZpiqzwSvRIky045By/pYKeQ9IFla+L6bfCA79HZqOHdKmEcdWeBr3njO1jkU/CdFIrrIx29wz2slvpxVo0nQzLAsM1KjbIlDQbRRSra0FqLE/S1cAxwJszEoXvJyhlzS44Vm9c3r9WvsLunQCodTXugepNpiWQZOiA2CD7MomVXYo+0DHiVL+jwctcgYOqG+rdgKAHHpG4SaooSKpWJqTbIlQxcRJA5Grysy3ydhr+eaG74uwjAGoJ42qYq0LGXIVvBpNBQD0uuqWbE8GO4F8rcTnCKmWEfBwJkzdTzB13LcA06c0XyCHeD9wQxa355GcSOGC7Eexx+pOlJwPL9cmVzYihrL5eSA1FKpfsv4gHyfSEZ21AIap3smi4FO2a/xhDLkB8zk4Tqzc2o/998j1G1GQiYsj2sQXdgZcahKztPLrPYBU6Mjhn7HUlTfGqft5O2AIDKhfjKAB63zJp3qGEhjyK3GK44t3mASZBCnUFqsU4E4gLCpm9H35lbERtjo4qDqmv/X6f47PUroleITtYk3+VIE=
  - secure: F2eSoadWAwd4u1aChcCUeg7fNu32AWF9sW2qTA4IRXGnLDWqgiLCy65CC7roWeldb+xmWCQWURgkIya7uz1IbvZZohKVIUqd5LlMTWBfKeAKrHROW00dydVdDuo4QdIs2YMHUyHL/J9/EoN9LD13+BsJ5Af+2TAoDnIMEwlyARTznXUQQX3EAX35bzLB3pJJYuhe86+z9aSz11E56qr9oX7akKCl6dbVB0yg8zylt8fGcH/Wzg3C0gj/0PaT8bv+2xbKbosI6c6YakK1PHhfU391VyExsKs17RrrVWxQmGwC6xHZhc/gynGugGHour64s/+EFim+95B/lIdAeLxvCpBxcGOoOY7TvwUbKnDIAYzvzNJ7GFTIYkfTLMrxRxfIMMidasuDq9sSERu8QhCIhko0hxXRX8u8YaMxGC59uvpIUyhvXCNkFV0EeNPzyX1rExhwLZ1SNL0T1XL4H1bi8lR9ZZ/eW0dfs90PajpdwILMt27dmxysi50Mp64NlldXMRBCLoX/InTuw3qPVFVEksKCs9nNnWw95w0w4DKmF2CGR+jIMMNmiCn954yLwB5kAYraqDhD5n840FNkvMvkCFNRNUyp72NSqMmNm/mAoRwr9oxjfhJW/gulX0VOtMSs180sivgqOPknFMJNrH19XngT5i/HrGTTVwf5cOFtsU4=
  - secure: YakBGRpcF0l73xRE2z63a5z9Tigl45ykp3at8glYjqH3taVqjlfXBTv7cXZeCy65/iVxMU27kqAykAWTrS8EsJr0Tm31B0MaiYEESglUTNT8t3XTUwH2q7bnuofVSnW40Wk/VOET4Rq41JceD5Pe4apy18Ob0E3QK5bZMh4ZI34HSH3C34rksH76Zz6QSwi6FpbnXNV5bA0QGAbsgsajJVUyE/Lr+VUyPgYU/xufygpJbRF66ZBSehmyt+Yx7eJcRu5o+pGgaXiXeSFbf2vCrUoVBAVvHZUjechT/7PqWprmaiQrlv/fM3pCA8pN7PbzXnqLAvCPcltfhCYdQbaS68CtO+R3HkO5/g925KpI1EDAvv/rGsI5DReu9v6EGYjlB1GCmzHu+iEzC8Akm5zWL4vULpfKicL8XCwCxBsvStaTm2HIscr5f65cpN7J4rMy1gO2BrmYyBJg1gAJ9jhqQ9KtFbZIapv6wwLgoV86De5Iv6dz8fvuhi+cFVBya2tGPpLgMBbUaHHvSd32mugbkwLG6kvV5jHAExpSkJFmq8I8rGbKABbBnYm/OUr9P98V2bakuONWhA6iCZn6TJbG+nOjsj00tOK6LA+vO6EnLbZ+9jWXsmtQ/XUdKeEPFRTQscDiWDyMCmanzUHrk5b6LB46HCAYCcNkGHpriey7Mys=
  - secure: ioRqCQixcW71zUfy8iu2UMXkk9tchtNBizSHwBQE3fiPpdWCCdryBW14mmGBo/FYFMIqo+tr/1OxSKzJG/jdmxYzZv8UhdHJJvHei66j6kE5kmgbVVxcGJIthQyNp9WJZN/WCIZcezVWb3oi/lhXqYMaJSUHBHs5OVA1T+7fXcs1biD0+I/rz4LRGuAcWSrNTRPBwgpAHkNuJLlFsC5rxEaFs9i7DSdvGZ7N7LT90XD2pOZDd7sYL/Af8Pb+TRkk37oZ7q0IK28uHIkDmAAkXQbFPlU9sbrsWBt2twAOd+SSOGKmso95bR05q7npIeNtm3h0yL8C4dJZ8fG74gjhc3cje1TY7PVZufpH7V3XdvRDRyo6nUCq4LindSoo9xwaYRde7iOww/KLzIgGyqfycagIXxNyA8nIqxfqHdiKcUyuHRIONF6zLwvhIXcYZ6U8p4OelOAzGr1vWAGRQ6Hr4jFXRJgvmW0LZijDzqWcgqoTV4Qnu2e41OtcuJGTelnHWE+vx/UtItctM798a2WhZNd7ANQk36UKre0ChdjUTa7+lkWZl3EkwB5Y0hHkoACXVaQMWyCrkf9jSHBmNwB4hTJWMihS0VhM2PZ7TR2pkKGDZzco+BOP0qvSSEJXMQTqcLdjzPPx/sN8VelhrzpQAL69Wp5zBLA7AgPjiNPFwh8=
  - secure: VHn5UciL3j/gOGfUqkt8xDX71tWvC4TznFOUJaS8Wn9vTW2c9PasrzfE7u2SdNdjUa7OGNdpRiyG1VWd89fwII+90mBRqD1Nu+KEcDrYx36d2Tfa29832p9eAkT/sBdZhKrvIJkjZnB7mueFGHGewdM9P1NPv40eu835aze4IFvphTa89WS/IdShcwOhkNHkEdxVWKd6cVkOWluSE2WYqtWKDIGHvkXDKLz2GgavsZSumslYguyTP1HUyVjHwcgjvOBl4zRaSRWA4TZidrsUYScIqNxBKz0gnrJR8Omc8WT/H4ssk9FdOlF33rKMynbIbMtN0aD2PeBaEMiaV4FzaN0G7BNXxFMBfvccGHKm83bvz9kd48y8T8SUBYokv/JDudjgrjVlU4l57eD58B3icgsMOlNfLrzEuCWyaFH+hNlWflq7A2b+Ts2NtdzmRFcYVPBBa6WzgLH//IurNcw4qt8LduHNEGw+13WuxQk37l5uFM/cFeI9yGwzYMv/h6gzkDoWrZdskRnm+8xkRs7W5Eu6nmLTnbh6oDX23K+PXGsrNRe4Az+zmrnJtmdjrJZhLqb1kk71+6Yh3JspmmrD1yGBlSmlPej1VCqTyIVR+TYBK3cTDPwQqs2VkZBjF2CNrNAZiCGT2NW5TuQikC7n3JZ00O0ZQbgsq/6JcERqDtw=

script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -v $HOME/.m2:/root/.m2 -e USER_REPO=$USER_REPO -e USER_PASSWORD=$USER_PASSWORD -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION moussavdb/build-java ./deploy-maven-central.sh
